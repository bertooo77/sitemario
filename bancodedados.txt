-- Criação do banco de dados
CREATE DATABASE tech_solutions;

-- Uso do banco de dados criado
USE tech_solutions;

-- Criação da tabela de clientes
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    telefone VARCHAR(20),
    endereco VARCHAR(255),
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Criação da tabela de serviços
CREATE TABLE servicos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10, 2) NOT NULL
);

-- Criação da tabela de pedidos
CREATE TABLE pedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_cliente INT NOT NULL,
    id_servico INT NOT NULL,
    data_pedido TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(50) DEFAULT 'Em andamento',
    FOREIGN KEY (id_cliente) REFERENCES clientes(id),
    FOREIGN KEY (id_servico) REFERENCES servicos(id)
);

-- Criação da tabela de pagamentos
CREATE TABLE pagamentos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_pedido INT NOT NULL,
    valor_pago DECIMAL(10, 2) NOT NULL,
    metodo_pagamento VARCHAR(50) NOT NULL,
    data_pagamento TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_pedido) REFERENCES pedidos(id)
);

-- Inserindo dados de exemplo
INSERT INTO clientes (nome, email, telefone, endereco) VALUES
('João Silva', 'joao@example.com', '(11) 98765-4321', 'Rua Exemplo, 123'),
('Maria Oliveira', 'maria@example.com', '(21) 99876-5432', 'Av. Teste, 456');

INSERT INTO servicos (nome, descricao, preco) VALUES
('Consultoria em IA', 'Análise de dados para otimização de processos com IA', 1500.00),
('Desenvolvimento de Software', 'Desenvolvimento de sistemas personalizados para seu negócio', 3500.00);

INSERT INTO pedidos (id_cliente, id_servico) VALUES
(1, 1),
(2, 2);

INSERT INTO pagamentos (id_pedido, valor_pago, metodo_pagamento) VALUES
(1, 1500.00, 'Cartão de Crédito'),
(2, 3500.00, 'Boleto Bancário');
